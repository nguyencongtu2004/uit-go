apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: trip-service-config
  labels:
    app: trip-service
data:
  NODE_ENV: "development"
  SERVICE_NAME: "trip-service"
  PORT: "3000"

  DB_URI: "mongodb://admin:uitgo123@mongodb-trip.default.svc.cluster.local:27017/uitgo_trip?authSource=admin"
  DB_NAME: "uitgo_trip"
  DB_CONNECTION_TIMEOUT: "5000"
  DB_MAX_POOL_SIZE: "10"
  DB_MIN_POOL_SIZE: "2"

  REDIS_HOST: "redis.default.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: "redis123"
  REDIS_DB: "1"
  REDIS_CONNECTION_TIMEOUT: "5000"
  REDIS_COMMAND_TIMEOUT: "5000"

  JWT_SECRET: "uit-go-super-secret-jwt-key-change-in-production"
  JWT_EXPIRES_IN: "365d"

  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  RATE_LIMIT_MESSAGE: "Too many requests from this IP, please try again later"

  CORS_ORIGIN: "http://localhost:3000,http://localhost:8080"
  CORS_METHODS: "GET,HEAD,PUT,PATCH,POST,DELETE"
  CORS_ALLOWED_HEADERS: "Content-Type,Authorization"

  LOG_LEVEL: "info"
  LOG_TO_FILE: "false"
  LOG_DIR: "./logs"

  KAFKA_BROKERS: "kafka.default.svc.cluster.local:9092"
  KAFKA_CLIENT_ID: "trip-service"
  KAFKA_GROUP_ID: "trip-service-group"

  ENABLE_REQUEST_LOGGING: "true"
  ENABLE_METRICS: "true"
  ENABLE_HEALTH_CHECKS: "true"
  ENABLE_RATE_LIMITING: "true"

  DRIVER_SERVICE_URL: "http://driver-service.default.svc.cluster.local:3000"
  USER_SERVICE_URL: "http://user-service.default.svc.cluster.local:3000"

  # WebSocket Configuration
  WEBSOCKET_PING_INTERVAL: "30000"
  WEBSOCKET_PING_TIMEOUT: "10000"
  WEBSOCKET_PATH: "/socket.io"

  # Trip Service Specific
  TRIP_ACCEPTANCE_TIMEOUT: "15000"
  TRIP_SEARCH_RADIUS_KM: "5"
  TRIP_MAX_WAIT_TIME: "300000"
