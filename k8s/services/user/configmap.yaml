apiVersion: v1
kind: ConfigMap
metadata:
  namespace: default
  name: user-service-config
  labels:
    app: user-service
data:
  NODE_ENV: "development"
  SERVICE_NAME: "user-service"
  PORT: "3000"

  DB_URI: "mongodb://admin:uitgo123@mongodb-users.default.svc.cluster.local:27017/uitgo_users?authSource=admin"
  DB_NAME: "uitgo_users"
  DB_CONNECTION_TIMEOUT: "5000"
  DB_MAX_POOL_SIZE: "10"
  DB_MIN_POOL_SIZE: "2"

  REDIS_HOST: "redis.default.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: "redis123"
  REDIS_DB: "0"
  REDIS_CONNECTION_TIMEOUT: "5000"
  REDIS_COMMAND_TIMEOUT: "5000"

  JWT_SECRET: "uit-go-super-secret-jwt-key-change-in-production"
  JWT_EXPIRES_IN: "365d"
  JWT_REFRESH_EXPIRES_IN: "365d"
  BCRYPT_SALT_ROUNDS: "12"

  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "100"
  RATE_LIMIT_MESSAGE: "Too many requests from this IP, please try again later"

  CORS_ORIGIN: "http://localhost:3000,http://localhost:8080"
  CORS_METHODS: "GET,HEAD,PUT,PATCH,POST,DELETE"
  CORS_ALLOWED_HEADERS: "Content-Type,Authorization"

  LOG_LEVEL: "info"
  LOG_TO_FILE: "false"
  LOG_DIR: "./logs"

  KAFKA_BROKERS: "kafka.default.svc.cluster.local:9092"
  KAFKA_CLIENT_ID: "user-service"
  KAFKA_GROUP_ID: "user-service-group"

  ENABLE_REQUEST_LOGGING: "true"
  ENABLE_METRICS: "true"
  ENABLE_HEALTH_CHECKS: "true"
  ENABLE_RATE_LIMITING: "true"

  DRIVER_SERVICE_URL: "http://driver-service.default.svc.cluster.local:3000"
  TRIP_SERVICE_URL: "http://trip-service.default.svc.cluster.local:3000"
